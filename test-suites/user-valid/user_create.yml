---
# Validates user creation with valid data.

developers:
  - Foo Bar
  - Fu Bar

endpoint: /users

method: POST

request:
  - '{"name": "fn1 ln", "username": "U1", "email": "e1@fx.local", "company": "fx", "jobTitle": "Engineer"}'
  - '{"name": "fn1 ln", "username": "U2", "email": "e1@fx.local", "company": "fx", "jobTitle": "Engineer"}'
  # optional name
  - '{"name": "", "username": "u1", "email": "e1@fx.local", "company": "fx", "jobTitle": "Engineer"}'
  - '{"name": " ", "username": "u1", "email": "e1@fx.local", "company": "fx", "jobTitle": "Engineer"}'
  # optional company
  - '{"name": "", "username": "u1", "email": "e1@fx.local", "company": " ", "jobTitle": "Engineer"}'
  - '{"name": " ", "username": "u1", "email": "e1@fx.local", "company": "", "jobTitle": "Engineer"}'  
  - '{"name": "fn1 ln", "username": "u1", "email": "e1@fx.local", "company": " ", "jobTitle": "Engineer"}'
  - '{"name": "fn1 ln", "username": "u1", "email": "e1@fx.local", "company": "", "jobTitle": "Engineer"}'  
  # optional jobTitle
  - '{"name": "", "username": "u1", "email": "e1@fx.local", "company": " ", "jobTitle": ""}'
  - '{"name": " ", "username": "u1", "email": "e1@fx.local", "company": "", "jobTitle": " "}'  
  - '{"name": "fn1 ln", "username": "u1", "email": "e1@fx.local", "company": " ", "jobTitle": ""}'
  - '{"name": "fn1 ln", "username": "u1", "email": "e1@fx.local", "company": "", "jobTitle": " "}'  

assertions:
  - "@StatusCode == 200" 
  #- "@Response != null"
  - "@Response.errors == false"
  - "@Response.data.name == @Request.name"
  - "@Response.data.username ==IgnoreCase @Request.username"
  - "@Response.data.email == @Request.email"
  - "@Response.data.company == @Request.company"
  - "@Response.data.jobTitle == @Request.jobTitle"
  # - "@Response.data.salary >= 90000"
  # - "@Response.data.age <= 40"

after:
  - user_delete  

tags:
  - V1

